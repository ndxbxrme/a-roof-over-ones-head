.favorites-list.container
  h1 Favorites
  .search-listings(ng-show='favorites.length > 0')
    .row
      .col-sm-6.margin-bottom
        .btn-group(dropdown='', is-open='status.isopen')
          button.btn.btn-primary.dropdown-toggle(dropdown-toggle='') 
            span(ng-show="storage.sort==='price'") Cheapest first&nbsp;
            span(ng-show="storage.sort==='-price'") Most expensive first&nbsp;
            span(ng-show="storage.sort==='location_accuracy'") Relevance&nbsp;
            span.caret
          ul.dropdown-menu(role='menu')
            li 
              a(href='', ng-click="storage.sort='price'") Cheapest first
            li 
              a(href='', ng-click="storage.sort='-price'") Most expensive first
            li 
              a(href='', ng-click="storage.sort='location_accuracy'") Relevance
        .btn-group
          label.btn.btn-primary(ng-model='storage.favorite_type', btn-radio="'buy'", ng-click='reload()') Buy
          label.btn.btn-primary(ng-model='storage.favorite_type', btn-radio="'let'", ng-click='reload()') Rent
          label.btn.btn-primary(ng-model='storage.favorite_type', btn-radio="'share'", ng-click='reload()') Share
          label.btn.btn-primary(ng-model='storage.favorite_type', btn-radio="''", ng-click='reload()') All
      .col-sm-6.margin-bottom
        input.form-control(type='text', ng-model='filter', placeholder='Search within results')
    .col-xs-12.panel.panel-default(ng-repeat="listing in favorites | unique:'guid' | filter:filter | orderBy:storage.sort | filter:{listing_type:storage.favorite_type}")
      a(name='{{ listing.guid }}')
      .col-sm-6
        h4
          a(href='', ng-click='selectListingAndImage(listing, null)') {{ listing.title }}
        h5 {{ listing.summary }}
          a(ng-href='{{listing.lister_url}}', target='_Blank') Website
      .col-sm-6.text-right   
        h4 {{ listing.price_formatted }}
        button.btn.btn-primary.pull-right.margin-bottom(ng-click='removeFromFavorites(listing)') Remove from favorites
      .col-sm-12
        .listing.col-sm-2(ng-repeat='pic in listing.pics')
          //.afkl-lazy-wrapper.afkl-img-ratio-1-1.thumbnail(afkl-lazy-image='{{pic}}', ng-click='selectListingAndImage(listing, pic)')
          img.thumbnail(ng-src='{{pic}}', style='height: 12rem; max-width: 100%', onerror="this.style.display='none'")
        .listing.col-sm-2
          img.thumbnail(ng-src='{{ listing.img_url }}', ng-hide='listing.pics.length>0' style='width: 100%')
